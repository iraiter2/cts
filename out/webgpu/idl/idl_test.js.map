{"version":3,"sources":["../../../src/webgpu/idl/idl_test.ts"],"names":["assert","UnitTest","IDLTest","assertMembers","act","exp","expKeys","Object","keys","k","actKeys","length"],"mappings":";;;;AAAA,SAASA,MAAT,QAAuB,qCAAvB;AACA,SAASC,QAAT,QAAyB,8BAAzB;AAMA,OAAO,MAAMC,OAAN,SAAsBD,QAAtB,CAA+B;AACpC;;;AAGA;AACA;AACA;AACAE,EAAAA,aAAa,CAACC,GAAD,EAAqBC,GAArB,EAAyC;AACpD,UAAMC,OAAO,GAAGC,MAAM,CAACC,IAAP,CAAYH,GAAZ,CAAhB;;AACA,SAAK,MAAMI,CAAX,IAAgBH,OAAhB,EAAyB;AACvBN,MAAAA,MAAM,CAACS,CAAC,IAAIL,GAAN,EAAW,MAAO,gBAAeK,CAAE,UAAnC,CAAN;AACAT,MAAAA,MAAM,CAACI,GAAG,CAACK,CAAD,CAAH,KAAWJ,GAAG,CAACI,CAAD,CAAf,EAAoB,MAAO,aAAYA,CAAE,SAAQL,GAAG,CAACK,CAAD,CAAI,cAAaJ,GAAG,CAACI,CAAD,CAAI,EAA5E,CAAN;AACD;;AACD,UAAMC,OAAO,GAAGH,MAAM,CAACC,IAAP,CAAYJ,GAAZ,CAAhB;AACAJ,IAAAA,MAAM,CACJU,OAAO,CAACC,MAAR,KAAmBL,OAAO,CAACK,MADvB,EAEJ,MAAO,OAAMD,OAAO,CAACC,MAAO,mBAAkBL,OAAO,CAACK,MAAO,EAFzD,CAAN;AAID;;AAlBmC","sourcesContent":["import { assert } from '../../common/framework/util/util.js';\nimport { UnitTest } from '../../unittests/unit_test.js';\n\ninterface UnknownObject {\n  [k: string]: unknown;\n}\n\nexport class IDLTest extends UnitTest {\n  /**\n   * Asserts that an IDL interface has the expected members.\n   */\n  // TODO: exp should allow sentinel markers for unnameable values, such as methods and attributes\n  // TODO: handle extensions\n  // TODO: check prototype chains (maybe as separate method)\n  assertMembers(act: UnknownObject, exp: UnknownObject) {\n    const expKeys = Object.keys(exp);\n    for (const k of expKeys) {\n      assert(k in act, () => `Expected key ${k} missing`);\n      assert(act[k] === exp[k], () => `Value of [${k}] was ${act[k]}, expected ${exp[k]}`);\n    }\n    const actKeys = Object.keys(act);\n    assert(\n      actKeys.length === expKeys.length,\n      () => `Had ${actKeys.length} keys, expected ${expKeys.length}`\n    );\n  }\n}\n"],"file":"idl_test.js"}